


| κµ¬λ¶„                | FastAPI/Pydantic μλ™ μ²λ¦¬                                                   | κ°λ°μ μ§μ ‘ μ²λ¦¬ (Business Logic)                                                          |
| :---------------- | :----------------------------------------------------------------------- | :---------------------------------------------------------------------------------- |
| **μ—­ν• **            | **λ¬Έμ§€κΈ°**: λ°μ΄ν„° ν•μ‹, νƒ€μ…, ν•„μκ°’ κ²€μ‚¬                                              | **μ‹¤λ¬΄μ**: λ°μ΄ν„°μ μ‹¤μ  μλ―Έ, κ·μΉ™, κ¶ν• κ²€μ‚¬                                                      |
| **μμ‹**            | - `price`κ°€ μ«μκ°€ μ•„λ‹ λ¬Έμμ—΄μΌ λ•<br>- ν•„μ `name` ν•„λ“κ°€ λ„λ½λμ—μ„ λ•<br>- JSON ν•μ‹μ΄ κΉ¨μ Έμμ„ λ• | - μ΅΄μ¬ν•μ§€ μ•λ” μƒν’ IDλ¥Ό μ΅°νν•  λ•<br>- μ΄λ―Έ κ°€μ…λ μ΄λ©”μΌλ΅ κ°€μ…μ„ μ‹λ„ν•  λ•<br>- κ¶ν•μ΄ μ—†λ” λ°μ΄ν„°λ¥Ό μμ •ν•λ ¤κ³  ν•  λ•        |
| **κ΄€λ ¨ HTTP μƒνƒ μ½”λ“** | `422 Unprocessable Entity`<br>`400 Bad Request`                          | `404 Not Found`<br>`409 Conflict`<br>`403 Forbidden`<br>`500 Internal Server Error` |

### 4xx: ν΄λΌμ΄μ–ΈνΈ μ¤λ¥ (Client Errors)

`4xx` κ³„μ—΄μ μ¤λ¥λ” **μ‹¤ν¨μ μ›μΈμ΄ ν΄λΌμ΄μ–ΈνΈ(μ”μ²­μ„ λ³΄λ‚Έ μ½)μ—κ² μλ‹¤**λ” μλ―Έλ¥Ό λ‹΄κ³  μμµλ‹λ‹¤.

#### **400 Bad Request (μλ»λ μ”μ²­)**

- **μλ―Έ**: μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­ μμ²΄λ¥Ό **λ¬Έλ²•μ μΌλ΅ μ΄ν•΄ν•  μ μ—†μ„ λ•** λ°μƒν•©λ‹λ‹¤.
    
- **μƒν™©**: κ°€μ¥ λ€ν‘μ μΈ μλ” μ„λ²„κ°€ JSON λ°μ΄ν„°λ¥Ό μμƒν•κ³  μλ”λ°, ν΄λΌμ΄μ–ΈνΈκ°€ JSON ν•μ‹μ΄ κΉ¨μ§„ λ¬Έμμ—΄(`{"name": "test"`)μ„ λ³΄λ‚΄λ” κ²½μ°μ…λ‹λ‹¤. μ„λ²„λ” μ΄κ±Έ ν•΄μ„μ΅°μ°¨ ν•  μ μ—†μ–΄μ„ "μ”μ²­μ΄ μλ»λμ—μΌλ‹ ν™•μΈν•κ³  λ‹¤μ‹ λ³΄λ‚΄μ„Έμ”."λΌκ³  μ‘λ‹µν•©λ‹λ‹¤.
    
- **FastAPIμ—μ„**: κ°λ°μκ°€ μ§μ ‘ λ§λ“¤κΈ°λ³΄λ‹¤λ”, FastAPIκ°€ μ ν¨ν•μ§€ μ•μ€ JSONμ„ λ°›μ•μ„ λ• **μλ™μΌλ΅** μ΄ μ—λ¬λ¥Ό λ°μƒμ‹μΌ μ¤λ‹λ‹¤.

#### 422 Unprocessable Cotent/Entity 

- Pydantic λ¨λΈκ³Ό μΌμΉν•μ§€ μ•λ” λ°μ΄ν„°κ°€ λ“¤μ–΄μ™”μ„ λ•. (λ°©κΈ κ²½ν—ν•μ‹  κ²ƒ)
- **κ²½λ΅/μΏΌλ¦¬ λ§¤κ°λ³€μ νƒ€μ… μ¤λ¥ (`422`)**: `@app.get("/items/{item_id}")`μ—μ„ `item_id`μ— `int`λ¥Ό κΈ°λ€ν–λ”λ° `abc` κ°™μ€ λ¬Έμμ—΄μ΄ λ“¤μ–΄μ™”μ„ λ•.

#### **403 Forbidden (μ ‘κ·Ό κΈμ§€)**

- **μλ―Έ**: μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈκ°€ λ„κµ¬μΈμ§€ **μ•μ•„λ³Ό μλ” μμ§€λ§(μΈμ¦ μ„±κ³µ)**, ν•΄λ‹Ή λ¦¬μ†μ¤μ— μ ‘κ·Όν•  **κ¶ν•μ΄ μ—†μ–΄μ„** μ”μ²­μ„ κ±°λ¶€ν•λ” κ²ƒμ…λ‹λ‹¤.
    
- **μƒν™©**: μΌλ° μ‚¬μ©μκ°€ κ΄€λ¦¬μ μ „μ© νμ΄μ§€μ— μ ‘κ·Όν•λ ¤κ³  μ‹λ„ν•λ” κ²½μ°μ…λ‹λ‹¤. μ„λ²„λ” "λ‹Ήμ‹ μ΄ `user123`μ΄λΌλ” κ±΄ μ•κ² μ§€λ§, μ΄ νμ΄μ§€λ” κ΄€λ¦¬μλ§ λ³Ό μ μμ–΄μ„ λ³΄μ—¬μ¤„ μ μ—†μµλ‹λ‹¤."λΌκ³  λ§ν•λ” κ²ƒκ³Ό κ°™μµλ‹λ‹¤. μ¦‰, **'μΈμ¦(Authentication)'μ€ λμ—μ§€λ§ 'μΈκ°€(Authorization)'μ— μ‹¤ν¨**ν• κ²½μ°μ…λ‹λ‹¤.
    
- **FastAPIμ—μ„**: λ΅κ·ΈμΈν• μ‚¬μ©μμ λ“±κΈ‰(role)μ„ ν™•μΈν•κ³ , μ΅°κ±΄μ— λ§μ§€ μ•μ„ λ• κ°λ°μκ°€ **μ§μ ‘** μ΄ μ—λ¬λ¥Ό λ°μƒμ‹μΌμ•Ό ν•©λ‹λ‹¤.

```
if current_user.role != "admin":
    raise HTTPException(status_code=403, detail="κ΄€λ¦¬μλ§ μ ‘κ·Ό κ°€λ¥ν•©λ‹λ‹¤.")
```


#### **404 Not Found (μ°Ύμ„ μ μ—†μ)**

- **μλ―Έ**: ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• **λ¦¬μ†μ¤λ¥Ό μ„λ²„μ—μ„ μ°Ύμ„ μ μ—†μ„ λ•** λ°μƒν•©λ‹λ‹¤. κ°€μ¥ ν”ν•κ² λ³Ό μ μλ” μ—λ¬ μ¤‘ ν•λ‚μ…λ‹λ‹¤.
    
- **μƒν™©**: `GET /users/999` μ²λΌ 999λ² μ‚¬μ©μλ¥Ό μ΅°νν–λ”λ°, λ°μ΄ν„°λ² μ΄μ¤μ— 999λ² μ‚¬μ©μκ°€ μ΅΄μ¬ν•μ§€ μ•λ” κ²½μ°μ…λ‹λ‹¤. μ”μ²­ μμ²΄λ” μ™„λ²½ν•κ² μ •μƒμ΄μ§€λ§, λ€μƒμ΄ μ΅΄μ¬ν•μ§€ μ•λ” κ²ƒμ΄μ£ .
    
- **FastAPIμ—μ„**: λ°μ΄ν„°λ² μ΄μ¤μ—μ„ νΉμ • IDλ΅ λ°μ΄ν„°λ¥Ό μ΅°νν• ν›„, κ²°κ³Όκ°€ μ—†μ„ λ• κ°λ°μκ°€ **μ§μ ‘** μ΄ μ—λ¬λ¥Ό λ°μƒμ‹μΌμ•Ό ν•©λ‹λ‹¤.

 ```
 user = db.get_user_by_id(user_id)
 if not user:
    raise HTTPException(status_code=404, detail="ν•΄λ‹Ή μ‚¬μ©μλ¥Ό μ°Ύμ„ μ μ—†μµλ‹λ‹¤.")
```

#### **409 Conflict (μ¶©λ)**

- **μλ―Έ**: ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ΄ μ„λ²„μ **ν„μ¬ μƒνƒμ™€ μ¶©λ**ν•μ—¬ μ²λ¦¬ν•  μ μ—†μ„ λ• λ°μƒν•©λ‹λ‹¤.
    
- **μƒν™©**: μ΄λ―Έ μ΅΄μ¬ν•λ” μ•„μ΄λ””λ‚ μ΄λ©”μΌλ΅ νμ›κ°€μ…μ„ μ‹λ„ν•λ” κ²½μ°κ°€ κ°€μ¥ λ€ν‘μ μ…λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ νμ›κ°€μ… λ°μ΄ν„° μμ²΄λ” μ ν¨ν•μ§€λ§(`422`κ°€ μ•„λ‹), "μ΄λ―Έ μ΅΄μ¬ν•λ” μ΄λ©”μΌ"μ΄λΌλ” μ„λ²„μ ν„μ¬ μƒνƒμ™€ μ¶©λν•μ—¬ μ”μ²­μ„ μ™„λ£ν•  μ μ—†λ” κ²ƒμ΄μ£ .
    
- **FastAPIμ—μ„**: μƒλ΅μ΄ λ°μ΄ν„°λ¥Ό μƒμ„±(`POST`)ν•κΈ° μ „μ—, ν•΄λ‹Ή λ°μ΄ν„°κ°€ μ΄λ―Έ μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•κ³ , λ§μ•½ μ΅΄μ¬ν•λ‹¤λ©΄ κ°λ°μκ°€ **μ§μ ‘** μ΄ μ—λ¬λ¥Ό λ°μƒμ‹ν‚µλ‹λ‹¤.

    ```
    existing_user = db.get_user_by_email(new_user.email)
    if existing_user:
        raise HTTPException(status_code=409, detail="μ΄λ―Έ μ‚¬μ© μ¤‘μΈ μ΄λ©”μΌμ…λ‹λ‹¤.")
    ```


## 5xx: μ„λ²„ μ¤λ¥ (Server Errors)

`5xx` κ³„μ—΄μ μ¤λ¥λ” **μ‹¤ν¨μ μ›μΈμ΄ μ„λ²„(μ”μ²­μ„ λ°›μ€ μ½)μ—κ² μλ‹¤**λ” μλ―Έμ…λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ—λ” μ•„λ¬΄λ° λ¬Έμ κ°€ μ—†μ—μµλ‹λ‹¤.

#### **500 Internal Server Error (λ‚΄λ¶€ μ„λ²„ μ¤λ¥)**

- **μλ―Έ**: μ„λ²„μ—μ„ μ”μ²­μ„ μ²λ¦¬ν•λ” λ„μ¤‘ **μμƒμΉ λ»ν• λ¬Έμ **κ°€ λ°μƒν–μ„ λ• μ‚¬μ©ν•λ” ν¬κ΄„μ μΈ μ—λ¬ μ½”λ“μ…λ‹λ‹¤.
    
- **μƒν™©**: μ½”λ“μ— λ²„κ·Έκ°€ μμ–΄μ„ κ°‘μκΈ° μ—λ¬κ°€ ν„°μ§€κ±°λ‚, λ°μ΄ν„°λ² μ΄μ¤ μ„λ²„κ°€ κ°‘μκΈ° μ‘λ‹µν•μ§€ μ•κ±°λ‚, μ„λ²„κ°€ μ™Έλ¶€ APIλ¥Ό νΈμ¶ν–λ”λ° μ‹¤ν¨ν•λ” λ“±, λ§ κ·Έλ€λ΅ μ„λ²„ λ‚΄λ¶€μ λ¬Έμ μ…λ‹λ‹¤. κ°λ°μκ°€ λ―Έμ² μμƒν•μ§€ λ»ν•κ³  μ²λ¦¬ν•μ§€ μ•μ€ λ¨λ“  μ—λ¬κ°€ μ—¬κΈ°μ— ν•΄λ‹Ήλ©λ‹λ‹¤.
    
- **FastAPIμ—μ„**: κ°λ°μκ°€ `try...except` λ“±μΌλ΅ μμ™Έ μ²λ¦¬λ¥Ό ν•μ§€ μ•μ€ μ½”λ“μ—μ„ λ²„κ·Έκ°€ λ°μƒν•λ©΄, FastAPIκ°€ **μλ™μΌλ΅** μ΄ μ—λ¬λ¥Ό λ°μƒμ‹ν‚µλ‹λ‹¤. μΆ‹μ€ μ„λ²„λ” `500` μ—λ¬λ¥Ό μ‚¬μ©μμ—κ² λ³΄μ—¬μ£Όμ§€ μ•λ„λ΅, λ°μƒ κ°€λ¥ν• μμ™Έλ“¤μ„ μµλ€ν• λ―Έλ¦¬ μ²λ¦¬ν•΄μ•Ό ν•©λ‹λ‹¤.


| μ½”λ“ | μ΄λ¦„ | μ›μΈ | ν•µμ‹¬ μλ―Έ |
| :--- | :--- | :--- | :--- |
| **400** | Bad Request | ν΄λΌμ΄μ–ΈνΈ | μ”μ²­μ **λ¬Έλ²•**μ΄ ν‹€λ¦Ό (μ: κΉ¨μ§„ JSON) |
| **403** | Forbidden | ν΄λΌμ΄μ–ΈνΈ | **κ¶ν•**μ΄ μ—†μ (λ„ λ„κµ¬μΈμ§€ μ•μ§€λ§ μ•λΌ) |
| **404** | Not Found | ν΄λΌμ΄μ–ΈνΈ | μ”μ²­ν• **λ¦¬μ†μ¤**κ°€ μ—†μ (μ: μ΅΄μ¬ν•μ§€ μ•λ” μ‚¬μ©μ) |
| **409** | Conflict | ν΄λΌμ΄μ–ΈνΈ | μ„λ²„μ ν„μ¬ **μƒνƒ**μ™€ μ¶©λ (μ: μ΄λ©”μΌ μ¤‘λ³µ) |
| **422** | Unprocessable Entity | ν΄λΌμ΄μ–ΈνΈ | μ”μ²­μ **λ‚΄μ©(μλ―Έ)**μ΄ ν‹€λ¦Ό (Pydantic μ ν¨μ„± κ²€μ‚¬ μ‹¤ν¨) |
| **500** | Internal Server Error | μ„λ²„ | μ„λ²„ μ½”λ“μ **μμƒμΉ λ»ν• λ²„κ·Έ** λλ” λ¬Έμ  |


### HTTP μƒνƒ μ½”λ“ μ΄ν•΄ν•κ³  ν™μ©ν•κΈ°

HTTP μƒνƒ μ½”λ“λ” ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ΄ μ„±κ³µμ μΌλ΅ μ²λ¦¬λμ—λ”μ§€, μ•„λ‹λ©΄ μ–΄λ–¤ λ¬Έμ κ°€ λ°μƒν–λ”μ§€ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² μ•λ ¤μ£Όλ” **μ„Έ μλ¦¬ μ«μλ΅ λ 'μ‹ νΈλ“±'**κ³Ό κ°™μµλ‹λ‹¤. μ΄ μ‹ νΈλ“±μ μƒ‰κΉ”(μ«μ)μ„ λ³΄κ³  ν΄λΌμ΄μ–ΈνΈλ” λ‹¤μ ν–‰λ™μ„ κ²°μ •ν•  μ μμµλ‹λ‹¤.

#### μƒνƒ μ½”λ“μ μΆ…λ¥ (λ§¨ μ•μλ¦¬ κΈ°μ¤€)

- **`1xx` (Informational)**: μ”μ²­μ„ λ°›μ•μΌλ©°, μ²λ¦¬ μ¤‘μ΄λΌλ” μ •λ³΄ μ „λ‹¬. κ±°μ μ‚¬μ©ν•μ§€ μ•μµλ‹λ‹¤.
    
- **`2xx` (Successful)**: μ”μ²­μ΄ **μ„±κ³µμ μΌλ΅** μ ‘μ, μ΄ν•΄, μ²λ¦¬λμ—μ. (μ΄λ΅λ¶ πΆ)
    
- **`3xx` (Redirection)**: μ”μ²­μ„ μ™„λ£ν•κΈ° μ„ν•΄ μ¶”κ°€μ μΈ μ΅°μΉκ°€ ν•„μ”ν•¨. (μ: λ‹¤λ¥Έ μ£Όμ†λ΅ μ΄λ™)
    
- **`4xx` (Client Error)**: **ν΄λΌμ΄μ–ΈνΈ(μ”μ²­μ„ λ³΄λ‚Έ μ½)μ μ‹¤μ**λ΅ μ”μ²­μ„ μ²λ¦¬ν•  μ μ—†μ. (λ…Έλ€λ¶ π΅)
    
- **`5xx` (Server Error)**: **μ„λ²„μ λ¬Έμ **λ΅ μ”μ²­μ„ μ²λ¦¬ν•  μ μ—†μ. (λΉ¨κ°„λ¶ π”΄)

### 1. μμ£Ό μ‚¬μ©ν•λ” μ„±κ³µ μ½”λ“ (`2xx`)

#### `200 OK`

- **μλ―Έ**: "μ”μ²­μ΄ μ„±κ³µμ μΌλ΅ μ²λ¦¬λμ—μµλ‹λ‹¤." λΌλ” μλ―Έμ **κ°€μ¥ μΌλ°μ μΈ μ„±κ³µ μ‘λ‹µ**μ…λ‹λ‹¤.
    
- **μ£Όμ” μ‚¬μ©μ²**:
    
    - `GET`: λ°μ΄ν„°λ¥Ό μ„±κ³µμ μΌλ΅ μ΅°νν–μ„ λ•.
        
    - `PUT` λλ” `PATCH`: κΈ°μ΅΄ λ°μ΄ν„°λ¥Ό μ„±κ³µμ μΌλ΅ μμ •ν–μ„ λ•.
        
- **FastAPI κΈ°λ³Έκ°’**: `@app.get` μ΄λ‚ `@app.put` λ“±μ—μ„ λ”°λ΅ μ§€μ •ν•μ§€ μ•μΌλ©΄ κΈ°λ³Έμ μΌλ΅ `200`μ„ λ°ν™ν•©λ‹λ‹¤.
    

#### `201 Created` (μƒμ„±λ¨)

- **μλ―Έ**: "μ”μ²­μ΄ μ„±κ³µν•μ—¬ **μƒλ΅μ΄ λ¦¬μ†μ¤κ°€ μ„±κ³µμ μΌλ΅ μƒμ„±**λμ—μµλ‹λ‹¤."
    
- **μ£Όμ” μ‚¬μ©μ²**:
    
    - `POST`: νμ›κ°€μ…, κ²μ‹κΈ€ μ‘μ„± λ“± μƒλ΅μ΄ λ°μ΄ν„°λ¥Ό μƒμ„±ν•λ” μ”μ²­μ΄ μ„±κ³µν–μ„ λ•. `200`λ³΄λ‹¤ λ” λ…ν™•ν• μλ―Έλ¥Ό μ „λ‹¬ν•©λ‹λ‹¤.
        
- **FastAPIμ—μ„**: μƒλ΅μ΄ λ¦¬μ†μ¤λ¥Ό λ§λ“λ” μ—”λ“ν¬μΈνΈμ—μ„λ” `status_code`λ¥Ό `201`λ΅ μ§€μ •ν•΄ μ£Όλ” κ²ƒμ΄ μΆ‹μ€ κ΄€λ΅€μ…λ‹λ‹¤.
    

#### `204 No Content` (λ‚΄μ© μ—†μ)

- **μλ―Έ**: "μ”μ²­μ€ μ„±κ³µν–μ§€λ§, μ‘λ‹µμΌλ΅ λ³΄λ‚Ό **λ³Έλ¬Έ(Body) λ°μ΄ν„°κ°€ μ—†μµλ‹λ‹¤.**"
    
- **μ£Όμ” μ‚¬μ©μ²**:
    
    - `DELETE`: λ°μ΄ν„°λ¥Ό μ„±κ³µμ μΌλ΅ μ‚­μ ν• ν›„, "μ‚­μ  μ λμ–΄"λΌλ” μ‹ νΈλ§ λ³΄λ‚΄κ³  λ”±ν λλ ¤μ¤„ λ°μ΄ν„°κ°€ μ—†μ„ λ•.
        
- **FastAPIμ—μ„**: `Response` κ°μ²΄λ¥Ό μ‚¬μ©ν•μ—¬ μƒνƒ μ½”λ“λ§ λ°ν™ν•  λ• μ‚¬μ©ν•©λ‹λ‹¤.


| μƒν™© | HTTP μƒνƒ μ½”λ“ | μλ―Έ | FastAPI κµ¬ν„ λ°©λ²• |
| :--- | :--- | :--- | :--- |
| **λ°μ΄ν„° μƒμ„± μ„±κ³µ** | `201 Created` | μƒλ΅μ΄ λ¦¬μ†μ¤κ°€ μƒμ„±λ¨ | `@app.post(status_code=201)` |
| **λ°μ΄ν„° μ΅°ν/μμ • μ„±κ³µ** | `200 OK` | μ”μ²­μ΄ μ„±κ³µμ μΌλ΅ μ²λ¦¬λ¨ | κΈ°λ³Έκ°’μ΄λ―€λ΅ λ³„λ„ μ§€μ • λ¶ν•„μ” |
| **λ°μ΄ν„° μ‚­μ  μ„±κ³µ** | `204 No Content` | μ„±κ³µν–μ§€λ§ λ³΄λ‚Ό λ‚΄μ© μ—†μ | `return Response(status_code=204)` |
| **μ΅°κ±΄λ¶€ μ‹¤ν¨ (μ—λ¬)** | `4xx` λλ” `5xx` | ν΄λΌμ΄μ–ΈνΈ/μ„λ²„ μ¤λ¥ | `raise HTTPException(...)` |


μ‹¤μµ 1 λ°μ½”λ μ΄ν„°μ— `status_code` μ§€μ •ν•κΈ° (μ„±κ³µ κΈ°λ³Έκ°’)

```
# app/main.py

from fastapi import FastAPI, status

app = FastAPI()

items_db = {}

# POST μ”μ²­ μ„±κ³µ μ‹ κΈ°λ³Έ μƒνƒ μ½”λ“λ¥Ό 201 Createdλ΅ μ§€μ •
@app.post("/items/", status_code=status.HTTP_201_CREATED)
def create_item(name: str):
    item_id = len(items_db) + 1
    items_db[item_id] = {"name": name}
    return {"id": item_id, "name": name}

# GET μ”μ²­μ€ κΈ°λ³Έκ°’μ΄ 200 OK μ΄λ―€λ΅ λ”°λ΅ μ§€μ •ν•  ν•„μ” μ—†μ
@app.get("/items/{item_id}")
def get_item(item_id: int):
    return items_db.get(item_id)
```

`status_code=status.HTTP_201_CREATED`: μ«μ `201`μ„ μ§μ ‘ μ“°λ” κ²ƒλ³΄λ‹¤ `fastapi.status`μ— λ―Έλ¦¬ μ •μλ μƒμλ¥Ό μ‚¬μ©ν•λ©΄ μ½”λ“κ°€ λ” λ…ν™•ν•΄μ§€κ³  μ¤νƒ€λ¥Ό μ¤„μΌ μ μμµλ‹λ‹¤.


μ‹¤μµ 2: `HTTPException`μΌλ΅ μ—λ¬ λ°ν™ν•κΈ° (μ‹¤ν¨ μ‹)

```
# app/main.py (μ΄μ „ μ½”λ“μ— μ΄μ–΄μ„)
from fastapi import HTTPException

# ... create_item ν•¨μλ” κ·Έλ€λ΅ ...

@app.get("/items/{item_id}")
def get_item(item_id: int):
    item = items_db.get(item_id)
    # μ•„μ΄ν…μ΄ μ΅΄μ¬ν•μ§€ μ•λ” κ²½μ°, 404 μ—λ¬λ¥Ό λ°μƒμ‹ν‚΄
    if not item:
        raise HTTPException(
            status_code=status.HTTP_404_NOT_FOUND, 
            detail=f"Item with id {item_id} not found"
        )
    return item
```
- `raise HTTPException(...)`: μ΄ μ½”λ“κ°€ μ‹¤ν–‰λλ©΄ ν•¨μμ λ‚λ¨Έμ§€ λ¶€λ¶„μ€ μ‹¤ν–‰λμ§€ μ•κ³ , μ¦‰μ‹ μ§€μ •λ μƒνƒ μ½”λ“μ™€ `detail` λ©”μ‹μ§€λ¥Ό λ‹΄μ€ μ—λ¬ μ‘λ‹µμ΄ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅λ©λ‹λ‹¤.


μ‹¤μµ 3: `Response` κ°μ²΄λ΅ μ§μ ‘ λ°ν™ν•κΈ° (`204` λ“±)

```
# app/main.py (μ΄μ „ μ½”λ“μ— μ΄μ–΄μ„)
from fastapi import Response

# ... create_item, get_item ν•¨μλ” κ·Έλ€λ΅ ...

@app.delete("/items/{item_id}")
def delete_item(item_id: int):
    if item_id in items_db:
        del items_db[item_id]
        # μ„±κ³µμ μΌλ΅ μ‚­μ ν–μ§€λ§ λ³΄λ‚Ό λ‚΄μ©μ΄ μ—†μΌλ―€λ΅ 204 No Content λ°ν™
        return Response(status_code=status.HTTP_204_NO_CONTENT)
    
    # μ‚­μ ν•  μ•„μ΄ν…μ΄ μ—†μΌλ©΄ 404 μ—λ¬
    raise HTTPException(
        status_code=status.HTTP_404_NOT_FOUND,
        detail=f"Item with id {item_id} not found"
    )
```

`return Response(status_code=...)`: `fastapi.Response` κ°μ²΄λ¥Ό μ§μ ‘ μƒμ„±ν•μ—¬ λ°ν™ν•©λ‹λ‹¤. μ΄ κ°μ²΄μ `content`(λ³Έλ¬Έ)λ¥Ό λΉ„μ›λ‘λ©΄, `204 No Content` μ‘λ‹µμ„ λ³΄λ‚Ό μ μμµλ‹λ‹¤.
