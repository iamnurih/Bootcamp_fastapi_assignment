**쿠키**는 서버가 사용자의 정보를 기억하기 위해 클라이언트(브라우저)에 저장하는 작은 데이터 조각입니다. 클라이언트는 한번 쿠키를 받으면, 그 다음부터 해당 서버에 요청을 보낼 때마다 그 쿠키를 함께 보내서 서버가 사용자를 식별할 수 있게 합니다. 주로 로그인 상태를 유지하는 **세션(Session)** 관리에 많이 사용됩니다.

```
from fastapi import FastAPI, Header, Cookie
# ... /headers/ 엔드포인트 아래에 추가 ...

@app.get("/cookies/")
def read_cookies(ads_id: str | None = Cookie(default=None)):
    return {"ads_id": ads_id}
```

- `from fastapi import Cookie`: `fastapi`로부터 `Cookie`를 import 합니다.
    
- `ads_id: str | None = Cookie(default=None)`:
    
    - `Header`와 사용법은 거의 동일합니다.
        
    - FastAPI는 `Cookie()`를 보고 "클라이언트가 보낸 쿠키 중에서 `ads_id`라는 이름의 쿠키 값을 찾아서 이 매개변수에 넣어줘"라고 이해합니다.


### 핵심 정리

- **목적**: 서버가 클라이언트를 **식별하고 상태를 기억**하기 위함 (예: 로그인 유지, 장바구니, 광고 추적).
    
- **생성 주체**: **서버**가 만들어서 응답(`Set-Cookie` 헤더)과 함께 보냅니다.
    
- **저장 및 전송 주체**: **브라우저**가 저장하고, 다음 요청부터 자동으로 요청(`Cookie` 헤더)에 포함시켜 보냅니다.
    
- **FastAPI의 역할**: 우리는 주로 브라우저가 보내준 쿠키를 `Cookie()`를 통해 **읽어서 사용**하는 역할을 합니다.
    

헤더가 요청에 대한 일회성 정보(메타데이터)를 담는다면, 쿠키는 여러 요청에 걸쳐 유지되는 **지속성 있는 상태 정보**를 담는다는 차이점이 있습니다.




| 종류 | 가져오는 위치 | FastAPI 선언 방법 | 주 사용 목적 |
| :--- | :--- | :--- | :--- |
| **Path** | URL 경로 (`/items/{id}`) | 함수의 매개변수 (타입 힌트) | 특정 리소스를 식별 (필수) |
| **Query** | URL 물음표 뒤 (`?q=...`) | 함수의 매개변수 (기본값) | 필터링, 정렬, 페이징 (선택) |
| **Body** | 요청 본문 | Pydantic 모델 | 복잡한 데이터 구조를 전송 |
| **Header** | HTTP 헤더 | `Header()` 함수 | 인증, 클라이언트 정보 등 메타데이터 |
| **Cookie** | HTTP 쿠키 | `Cookie()` 함수 | 세션 관리, 사용자 식별 |